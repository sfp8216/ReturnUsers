<nav class="navbar navbar-expand-md navbar-dark bg-dark justify-content-start">
  <a href="/" class="navbar-brand"
    ><img src="../../../../assets/favicon-32x32.png" alt="Logo" /> Manage RX</a
  >
  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbar6"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="navbar-collapse collapse" id="navbar6">
    <div
      [formGroup]="this.searchFormGroup"
      class="input-group md-form form-sm form-1 pl-0"
      *ngIf="this.authService.isLoggedIn()"
    >
      <div class="input-group-prepend">
        <span
          class="input-group-text"
          id="basic-text1"
          style="color: dodgerblue"
          ><i class="fas fa-search text-white" aria-hidden="true"></i
        ></span>
      </div>
      <input
        id="searchBar"
        formControlName="searchForPatient"
        class="form-control my-0 py-1"
        type="text"
        placeholder="Search for patients..."
        aria-label="Search"
        (focusout)="displayResults = false"
        (focus)="displayResults = true"
      />
      <ul
        class="dropdown-menu dropdown-menu show filter-select"
        *ngIf="areResultsToShow()"
      >
        <li
          *ngFor="let user of dataSource"
          class="filter-select-list"
          [routerLink]="['/basic-info']"
          routerLinkActive="active"
        >
          <img
            src="../../../../assets/details_icon.png"
            alt=""
            width="50"
            height="50"
          />
          <p class="artist-name">{{ user.firstName }} {{ user.lastName }}</p>
          <mat-divider></mat-divider>
        </li>
      </ul>
    </div>
    <ul class="navbar-nav">
      <li class="nav-item" *ngIf="this.authService.isLoggedIn()">
        <div class="dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            role="button"
            id="dropdownMenuLink"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            <i class="fas fa-user-circle fa"></i>
            {{ this.authService.returnUserInfo().name }}
          </a>
          <div
            class="dropdown-menu dropdown-menu-right"
            aria-labelledby="dropdownMenuLink"
          >
            <div></div>
            <a
              class="dropdown-item"
              [routerLink]="['/profile']"
              routerLinkActive="active"
              >Profile</a
            >
            <a class="dropdown-item" href="#">Something else</a>
            <a class="dropdown-item" (click)="this.authService.logout()"
              >Logout</a
            >
          </div>
        </div>
      </li>
    </ul>
  </div>
</nav>
